package main

import (
	"fmt"

	apple "github.com/mohclips/BLEAS2/internal/manufacturers/apple"
)

var testData = [][]byte{
	// handoff 0x0c
	// {76, 0, 12, 14, 0, 127, 196, 171, 1, 188, 102, 135, 21, 188, 125, 244, 206, 254, 16, 6, 100, 30, 201, 238, 11, 174},
	// {76, 0, 12, 14, 0, 141, 56, 15, 219, 221, 2, 115, 123, 135, 4, 180, 183, 122, 16, 5, 75, 28, 60, 96, 188},
	// {76, 0, 12, 14, 0, 221, 107, 172, 129, 231, 29, 88, 38, 236, 193, 188, 170, 173, 16, 6, 107, 30, 148, 162, 111, 159},
	// {76, 0, 12, 14, 0, 57, 122, 111, 79, 97, 214, 1, 221, 81, 45, 112, 166, 52},

	//
	// nearby 0x10
	// {76, 0, 16, 2, 19, 4},
	// {76, 0, 16, 5, 10, 24, 70, 115, 142},
	// {76, 0, 16, 5, 19, 24, 39, 184, 127},
	// {76, 0, 16, 5, 3, 24, 187, 159, 190},
	// {76, 0, 16, 5, 3, 24, 208, 251, 205},
	// {76, 0, 16, 5, 3, 24, 210, 57, 16},
	// {76, 0, 16, 5, 51, 24, 108, 134, 135},
	// {76, 0, 16, 5, 65, 24, 125, 1, 98},
	// {76, 0, 16, 5, 78, 28, 188, 242, 92},
	// {76, 0, 16, 5, 81, 24, 196, 56, 209},
	// {76, 0, 16, 6, 10, 26, 205, 152, 109, 145},
	// {76, 0, 16, 6, 107, 30, 85, 65, 118, 68},
	// {76, 0, 16, 6, 113, 30, 170, 250, 215, 24},
	// {76, 0, 16, 6, 22, 26, 177, 86, 182, 170},
	// {76, 0, 16, 6, 2, 26, 141, 44, 67, 168},
	// {76, 0, 16, 6, 23, 30, 176, 116, 204, 154},
	// {76, 0, 16, 6, 28, 30, 23, 11, 126, 102},
	// {76, 0, 16, 6, 3, 30, 230, 79, 98, 101},
	// {76, 0, 16, 6, 44, 26, 24, 186, 7, 99},
	// {76, 0, 16, 6, 49, 26, 155, 175, 58, 56},
	// {76, 0, 16, 6, 62, 26, 70, 110, 136, 106},
	// {76, 0, 16, 6, 63, 26, 110, 102, 132, 108},
	// {76, 0, 16, 6, 72, 30, 18, 26, 203, 48},
	// {76, 0, 16, 6, 8, 26, 242, 222, 230, 124},
	// {76, 0, 16, 6, 8, 30, 1, 94, 192, 28},
	// {76, 0, 16, 6, 93, 30, 102, 56, 66, 198},
	// {76, 0, 16, 6, 93, 30, 137, 123, 20, 127},
	// {76, 0, 16, 7, 118, 31, 183, 180, 86, 81, 72},
	// {76, 0, 16, 7, 19, 31, 151, 144, 19, 91, 56},
	// {76, 0, 16, 7, 19, 31, 224, 131, 144, 153, 104},
	// {76, 0, 16, 7, 19, 31, 227, 86, 79, 133, 56},
	// {76, 0, 16, 7, 19, 31, 64, 66, 51, 195, 24},
	// {76, 0, 16, 7, 19, 31, 75, 240, 164, 226, 120},
	// {76, 0, 16, 7, 26, 27, 104, 95, 45, 16, 120},
	// {76, 0, 16, 7, 3, 31, 4, 229, 125, 2, 72},
	// {76, 0, 16, 7, 58, 31, 13, 219, 102, 29, 8},
	// {76, 0, 16, 7, 60, 31, 102, 156, 41, 146, 8},
	// {76, 0, 16, 7, 71, 31, 133, 50, 153, 121, 136},
	// {76, 0, 16, 7, 71, 31, 4, 229, 125, 2, 120},
	// {76, 0, 16, 7, 75, 31, 254, 158, 20, 130, 8},

	// 18 is not a recognised action!
	//{76, 0, 18, 25, 0, 11, 205, 143, 187, 62, 205, 50, 149, 164, 107, 99, 81, 100, 187, 91, 73, 163, 3, 73, 91, 247, 23, 3, 0},

	// ibeacon  0x02
	{76, 0, 2, 21, 226, 197, 109, 181, 223, 251, 72, 210, 176, 96, 208, 245, 167, 16, 150, 224, 0, 0, 0, 0, 197},
	{76, 0, 2, 21, 80, 118, 92, 183, 217, 234, 78, 33, 153, 164, 250, 135, 150, 19, 164, 146, 141, 154, 239, 255, 255},

	// unknown 0x12
	// 4c 00 12 19 00 0b cd 8f bb 3e cd 32 95 a4 6b 63 51 64 bb 5b 49 a3 03 49 5b f7 17 03 00 aa

	// airpods 0x07
	// {76, 0, 7, 25, 1, 14, 32, 11, 17, 143, 1, 0, 4, 111, 199, 187, 3, 77, 155, 42, 152, 178, 10, 248, 50, 20, 195, 235, 50},
	// {76, 0, 7, 25, 1, 14, 32, 11, 85, 143, 1, 0, 4, 8, 247, 31, 12, 118, 191, 112, 47, 49, 215, 107, 192, 236, 220, 168, 140},
	// {76, 0, 7, 25, 1, 15, 32, 43, 153, 143, 1, 0, 5, 230, 154, 121, 147, 150, 209, 20, 40, 104, 72, 244, 49, 60, 19, 33, 116},
	// {76, 0, 7, 25, 1, 15, 32, 43, 153, 143, 1, 0, 9, 21, 78, 120, 232, 5, 60, 100, 59, 169, 157, 94, 174, 82, 63, 90, 156},
}

func main() {
	for i := 0; i < len(testData); i++ {
		var d []byte = testData[i]
		fmt.Println("test data: ", d)
		fmt.Printf("%x\n", d)

		Apple := apple.ParseMF(testData[i])

		fmt.Printf("Final Apple: %s\n", Apple)

		// if total != 10 {
		// 	t.Errorf("Sum was incorrect, got: %d, want: %d.", total, 10)
		// }
	}
}
